const s={palette:"",name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""},o={palette:null,name:"Joker",job:"Comodín",email:"#",phone:"#",linkedin:"#",github:"#",photo:""};document.querySelector(".js-form-name");const v=document.querySelector(".js-card-name");document.querySelector(".js-form-job");const k=document.querySelector(".js-card-job"),M=document.querySelector(".js-form-email"),p=document.querySelector(".js-card-email a"),A=document.querySelector(".js-form-telephone"),S=document.querySelector(".js-card-telephone a"),F=document.querySelector(".js-form-linkedin"),y=document.querySelector(".js-card-linkedin a"),D=document.querySelector(".js-form-github"),q=document.querySelector(".js-card-github a");document.querySelector(".js-form-photo img");document.querySelector(".js-card-image");const R=document.querySelector(".js-button-arrow"),i=document.querySelector(".js-dropdown"),I=document.querySelector(".js-button-arrow2"),a=document.querySelector(".js-dropdown2"),N=document.querySelector(".js-button-arrow3"),n=document.querySelector(".js-dropdown3"),U=document.querySelectorAll(".js-collapsable-title");a.classList.add("hiden");n.classList.add("hiden");function B(e){e.preventDefault();const t=e.currentTarget;t.classList.contains("js-fieldset-palettes")?(i.classList.toggle("hiden"),a.classList.add("hiden"),n.classList.add("hiden"),R.classList.toggle("rotate")):t.classList.contains("js-fieldset-fill")?(a.classList.toggle("hiden"),i.classList.add("hiden"),n.classList.add("hiden"),I.classList.toggle("rotate")):t.classList.contains("js-fieldset-share")&&(e.preventDefault(),n.classList.toggle("hiden"),i.classList.add("hiden"),a.classList.add("hiden"),N.classList.toggle("rotate"))}for(const e of U)e.addEventListener("click",B);const G=document.querySelector(".js-form-fill");G.addEventListener("input",e=>{e.target.id==="name"?(v.innerHTML=e.target.value!==""?e.target.value:o.name,s.name=e.target.value):e.target.id==="job"?(k.innerHTML=e.target.value!==""?e.target.value:o.job,s.job=e.target.value):e.target.id==="email"?(p.href=e.target.value!==""?`mailto:${e.target.value}`:o.email,p.title=M.value,s.email=e.target.value):e.target.id==="telephone"?(S.href=e.target.value!==""?`tel:${e.target.value}`:o.tel,S.title=A.value,s.phone=e.target.value):e.target.id==="linkedin"?(y.href=e.target.value!==""?e.target.value:o.linkedin,y.title=F.value,s.linkedin=e.target.value):e.target.id==="github"?(q.href=e.target.value!==""?e.target.value:o.github,q.title=D.value,s.github=e.target.value):e.target.id});const J=document.querySelector(".js-button-reset"),P=document.querySelectorAll(".js-form-fill input");function O(){for(const e of P)e.value="";v.innerHTML=o.name,k.innerHTML=o.job,p.href=o.email,p.title="",S.href=o.tel,S.title="",y.href=o.linkedin,y.title="",q.href=o.github,q.title="",C.src="./images/joker.jpg",E.src=""}J.addEventListener("click",O);const $=document.querySelector("button.button-share");$.addEventListener("click",()=>{i.classList.remove("hiden"),a.classList.remove("hiden"),n.classList.remove("hiden")});const u=document.querySelector("section.card-info"),_=document.querySelector("section.card-error"),x=document.querySelector("form");x.addEventListener("submit",function(e){e.preventDefault(),i.classList.add("hiden"),a.classList.add("hiden"),n.classList.remove("hiden"),console.log(s);const t=document.querySelector(".js-botton-share"),b=c=>{c.preventDefault(),fetch("https://dev.adalab.es/api/card/",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{if(u.classList.add("hiden"),_.classList.add("hiden"),r.cardURL){const l=document.querySelector(".card-info__link");l.href=r.cardURL,l.innerHTML=r.cardURL,u.classList.remove("hiden"),H()}else{const l=document.querySelector(".card-error__message");l.innerHTML=r.error,_.classList.remove("hiden")}}).catch(r=>{const l=document.querySelector(".card-error__message");l.innerHTML=r,u.classList.add("hiden"),_.classList.remove("hiden")}),u.classList.remove("hiden")};t.addEventListener("click",b);const T=document.querySelector(".js-share-twitter"),H=()=>{const c=document.createElement("a");c.setAttribute("href","https://twitter.com/intent/post?text=Hello%20world"),c.className="twitter-share-button",c.dataset.size="large",T.appendChild(c),twttr.widgets.createShareButton("",c)}});const z=document.querySelectorAll('input[name="colours"]'),m=document.querySelector(".js-card-name"),h=document.querySelector(".nav-card"),g=document.querySelector(".js-card-email"),L=document.querySelector(".js-card-telephone"),f=document.querySelector(".js-card-linkedin"),j=document.querySelector(".js-card-github"),K={colours1:["jscolour1__1","jscolour1__2","jscolour1__3"],colours2:["jscolour2__1","jscolour2__2","jscolour2__3"],colours3:["jscolour3__1","jscolour3__2","jscolour3__3"],colours4:["jscolour4__1","jscolour4__2","jscolour4__3"]},Q={colours1:"./images/joker.jpg",colours2:"./images/joker2.jpeg",colours3:"./images/joker3.jpeg",colours4:"./images/joker4.jpeg"};function w(){console.log("Se ha seleccionado una opción de color");const e=document.querySelector('input[name="colours"]:checked').value;e==="colours1"?s.palette=1:e==="colours2"?s.palette=2:e==="colours3"?s.palette=3:e==="colours4"&&(s.palette=4);const t=K[e];m.classList.remove(m.classList[m.classList.length-1]),h.classList.remove(h.classList[h.classList.length-1]),g.classList.remove(g.classList[g.classList.length-1]),L.classList.remove(L.classList[L.classList.length-1]),f.classList.remove(f.classList[f.classList.length-1]),j.classList.remove(j.classList[j.classList.length-1]),m.classList.add(t[0]),h.classList.add(t[1]),g.classList.add(t[2]),L.classList.add(t[2]),f.classList.add(t[2]),j.classList.add(t[2]);const b=document.querySelector(".js-card-image");b.src=Q[e]}z.forEach(e=>{e.addEventListener("change",w)});w();const d=new FileReader,V=document.querySelector(".js__profile-upload-btn"),C=document.querySelector(".js__profile-image"),E=document.querySelector(".js__profile-preview img");function W(e){const t=e.currentTarget.files[0];d.addEventListener("load",X),d.readAsDataURL(t)}function X(){C.src=d.result,E.src=d.result,s.photo=d.result}V.addEventListener("change",W);
//# sourceMappingURL=main.js.map
